{% extends 'base.html' %}

{% block titulo %}Panel de control {% endblock %}
{% block contenido %}
{% if errores %}
<div id="errores" class="alert bg-secondary text-dark alert-dismissible text-white">
    <strong>Errores:</strong>
    <ul id="lista-errores">
        {% for error in errores %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<div class="row">
  <div class="col-md-6">
    <h2>Registrar Servidor</h2>
    <form method="post" action="/signupservidor/">
      {% csrf_token %}
      <input type="hidden" name="form_tipo" value="servidor">
      <div class="mb-3">
        <label>Direcci√≥n IP o dominio</label>
        <input type="text" class="form-control" name="ip" required>
      </div>
      <div class="mb-3">
            <label>Usuario SSH</label>
            <input type="text" class="form-control" name="usuario" required>
          </div>
      <div class="mb-3">
        <label>Llave SSH</label>
        <textarea class="form-control" name="llave_ssh" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Registrar Servidor</button>
    </form>
  </div>

  <div class="col-md-6">
    <h2>Registrar Servicio</h2>
    <form method="post" action="/signupservicio/">
      {% csrf_token %}
      <input type="hidden" name="form_tipo" value="servicio">
      <div class="mb-3">
        <label>Nombre del Servicio</label>
        <input type="text" class="form-control" name="nombre" required>
      </div>
      <div class="mb-3">
        <label>Servidor</label>
        <select class="form-control" name="servidor_id" required>
          {% for servidor in servidores %}
            <option value="{{ servidor.id }}">{{ servidor.ip }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-success">Registrar Servicio</button>
    </form>
  </div>
</div>


{% endblock %}
